<template>	<div class="buttonlist">		<ul >			<li v-for="(item,itemindex) in itemsList" @click="itemClick(itemindex)">				<buttonlistitem :item="item" :textcolor = "textcolor"></buttonlistitem>			</li>		</ul>	</div></template><script type="text/javascript">	import Vue from "vue";	import bus from '@/js/method';	import buttonitem from '@/components/ButtonListItem.vue';	import store from '@/store/index.js';	Vue.component("buttonlistitem",buttonitem);	export default{		name:"buttonlist",		data(){			return{				selectedIndex :0,							}		},		props:['itemsList','mark','textcolor'],		computed:{			positionIndex(){				return store.state.positionSelectIndex;			},		},		watch:{			itemsList:{				immediate:true,			 	handler:function(e){			 		if (e != null && e.length >0) {			 			// console.log('发一次');			 			bus.$emit("buttonlist-item-select",{class:this.mark,index:0});			 		}			 	}			},			positionIndex:{				immediate:true,			 	handler:function(e){			 		// console.log(e);			 		var ths = this;			 		if (ths.itemsList && ths.itemsList != null) {						for (var i = 0; i < ths.itemsList.length; i++) {							// console.log(ths.selectedIndex + i);							if (e == i) {								ths.itemsList[i].is_selected = true;							}else{								ths.itemsList[i].is_selected = false;							}						}			 		}			 	}			 },		},		mounted(){			// console.log(store.state.positionSelectIndex);			// bus.$emit("buttonlist-item-select",{class:this.mark,index:0});		},		methods:{			itemClick(index){				var ths = this;				// console.log(index);				ths.selectedIndex = index;				// console.log(ths.selectedIndex);				for (var i = 0; i < ths.itemsList.length; i++) {					// console.log(ths.selectedIndex + i);					if (ths.selectedIndex == i) {						ths.itemsList[i].is_selected = true;					}else{						ths.itemsList[i].is_selected = false;					}				}				//向父组件传值				// console.log(ths.selectedIndex);				if (!this.mark || this.mark == null) {					store.state.positionSelectIndex = ths.selectedIndex;				}				bus.$emit("buttonlist-item-select",{class:this.mark,index:index});							},			loveheartfly(){				console.log("爱心满天飞");							}		}	}</script><style type="text/css" scoped>	.buttonlist{		position: fixed;		left: 20px;		bottom: 15%;		width:20%;	}	.buttonlist ul{		margin: 0;		padding:0px; 	}	.buttonlist li{		margin-top: 10px;		list-style-type: none;	}	canvas {		display: block;		/*position: fixed;*/		/*bottom: 100px;		right: -24px;		z-index: 20;		cursor: pointer;		-webkit-tap-highlight-color: rgba(0, 0, 0, 0);*/	}</style>